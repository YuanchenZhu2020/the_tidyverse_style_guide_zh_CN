文件（Files）
===============

1.1 文件名
----------------

文件名应该是有意义的并且以 ``.R`` 结尾。避免在文件名中使用特殊字符——请使用数字、字母、``-`` 和 ``-``。

.. code-block:: R

    # Good
    fit_models.R
    utility_functions.R

    # Bad
    fit models.R
    foo.r
    stuff.r


如果文件应该以特定的顺序运行，请在它们前面加上数字。如果有 10 个以上的文件，请在数字左侧添加 0 补足位数：

.. code-block:: R

    00_download.R
    01_explore.R
    ...
    09_model.R
    10_visualize.R

如果你后来意识到自己错过了一些步骤，那么使用 ``02a``、``02b`` 等名字是很有诱惑力的。但是，我认为通常还是咬紧牙关，重命名所有文件。

请注意大小写，因为您或您的一些合作者使用的操作系统可能具有大小写不敏感的文件系统（例如 Microsoft Windows 或 OS X），\
这可能会导致修订控制系统（区分大小写）出现问题。请更倾向于使用所有字母小写的文件名，永远不要使用只在大小写上有区别的名称。


1.2 代码组织方式
--------------------

很难准确地描述如何组织多个文件中的代码。我认为最好的经验法则是：如果能给一个文件起一个简洁的名字，同时又能让人想起里面的内容，那么你已经找到了一个好的代码组织方式。但要做到这一点很难。


1.3 内部结构
--------------------

使用 ``-`` 和 ``=`` 的注释行将文件拆分为易于阅读的代码块。

.. code-block:: R

    # Load data ---------------------------

    # Plot data ---------------------------

如果你的脚本使用了附加程序包，请在文件的最开始一次性加载它们。这比在代码中散布 ``library()`` 调用或在启动文件（如 ``.Rprofile``）中加载的隐藏依赖项更加透明。
